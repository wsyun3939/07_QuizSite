# クイズサイト

このプロジェクトは HTML/CSS/JavaScript を使って構築されたシンプルなクイズサイトです。  
**4択問題**と**グループ分け問題**の2形式に対応しており、ジャンル・難易度を選択してクイズに挑戦できます。  
また、進捗情報をローカルストレージに保存し、再開や確認ができる機能も備えています。

---

## 🔧 機能一覧

- ジャンル（7種類）と難易度（1〜5）を選択可能
- 問題形式（4択 / グループ分け）を切り替えて出題
- CSVファイルから問題データを読み込み
- 各問題にタイマー付き（デフォルト10秒、config.yamlで変更可能）
- 正誤判定とスコア表示
- 「次の問題へ」ボタンで進行を自分で管理
- **4択・グループ両方で進捗保存＆再開に対応**
- ローカルストレージに進捗情報（インデックス・スコア）を保存
- 「中断」ボタンで保存し、再開時に「続きから／最初から」を選択可能
- 📊 **進捗一覧ページで全ジャンル・形式・難易度の進捗を可視化／削除可能**

---

## 📁 フォルダ構成

```
project-root/
├── index.html               # スタート画面（形式選択）
├── style.css               # トップ画面用CSS
├── script.js               # フォーム選択後の遷移処理
├── data/
│   ├── config.yaml         # クイズ設定（時間・画像有無など）
│   └── {ジャンル}/
│       ├── MCQ_{レベル}.csv    # 4択問題CSV
│       └── GROUP_{レベル}.csv  # グループ分け問題CSV
├── mcq_quiz/
│   ├── mcq_quiz.html       # 4択クイズ本体
│   ├── mcq_quiz.js
│   └── mcq_quiz.css
├── group_quiz/
│   ├── group_quiz.html     # グループ分けクイズ本体
│   ├── group_quiz.js
│   └── group_quiz.css
└── progress.html           # 📊 進捗一覧ページ
```

---

## 📄 CSVファイル形式

### 🔹 4択問題（MCQ）

```
問題文, 選択肢1, 正解, , [画像or音声パス（任意）]
        , 選択肢2
        , 選択肢3
        , 選択肢4
```

- 1問あたり4行
- シャッフル有無は `config.yaml` で指定可能
- 画像・音声はオプションで有効化（`.jpg`, `.mp3`）

---

### 🔹 グループ分け問題（GROUP）

```
グループ数,N
グループ1名, 選択肢A, 選択肢B, ...
グループ2名, 選択肢C, 選択肢D, ...
...
```

例：

```
グループ数,2
果物,りんご,バナナ
野菜,にんじん,キャベツ
```

---

## ⚙️ 設定ファイル（`data/config.yaml`）

```yaml
time_limit: 10              # タイマー秒数
shuffle_questions: false   # 問題の出題順をランダム化
enable_images: false       # 画像問題を有効にするか
enable_audio: false        # 音声問題を有効にするか
```

---

## 💾 進捗保存仕様（MCQ / GROUP 共通）

- 自動保存対象：
  - `progress_{ジャンル}_{形式}_{レベル}_index`（例：`progress_sports_MCQ_2_index`）
  - `progress_{ジャンル}_{形式}_{レベル}_score`
- 保存タイミング：
  - 各問題の答え合わせ時
  - 中断ボタン押下時
- 再開時：
  - 前回の進捗があればモーダル表示 → 「続きから or 最初から」を選択可能

---

## 📊 進捗一覧ページ（`progress.html`）

- すべての保存された進捗データをジャンル・形式・難易度ごとに表示
- 各セットのスコア／進行状況（インデックス）を確認可能
- 各行ごとに「リセット」ボタンあり
- 🔍 ジャンル別にフィルター可能
- 🗑️ 「全進捗を一括削除」ボタンあり
- 🏠 トップページへ戻るボタンあり

---

## 🚀 使い方

1. `data/{ジャンル}/MCQ_レベル.csv` または `GROUP_レベル.csv` を準備
2. `index.html` をブラウザで開く
3. ジャンル・難易度・形式を選んで「▶ スタート」
4. クイズに挑戦（4択 / グループ分け）
5. 途中で「⏸ 中断する」→ `localStorage` に進捗保存
6. 再訪時に「続きから」or「最初から」を選べる

---

## 🌐 他端末（iPad/iPhone等）でアクセスするには（ngrok使用）

1. ローカルサーバー起動：

```bash
python3 -m http.server 8000 --bind 0.0.0.0
```

2. ngrokで公開：

```bash
ngrok http 8000
```

3. 表示された `Forwarding` URLを別端末で開く：
   例：`https://xxxxxx.ngrok-free.app`

---

## 📦 依存ライブラリ

- [js-yaml](https://github.com/nodeca/js-yaml)：`config.yaml` 読み込み用

CDN読み込み（`<head>` に記載）:

```html
<script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
```

---

## 📝 備考

- CSVファイルは UTF-8 で保存推奨
- 画像・音声は `data/{ジャンル}/images/` などでジャンル別に管理
- 問題文の行末に余計なカンマがあると正しく読み込めないことがあります

---

ご質問・機能追加のご希望があればお気軽にどうぞ！
