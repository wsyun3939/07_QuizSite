/* =========================
   基本トークン（調整しやすいようCSS変数化）
========================= */
:root {
  --bg: #f8f8f8;
  --panel: #ffffff;
  --text: #333333;
  --muted: #666666;

  --primary: #0d6efd;
  --primary-600: #0b5ed7;
  --primary-700: #0a58ca;
  --danger: #dc3545;
  --danger-600: #bb2d3b;
  --danger-700: #a71d2a;

  --border: #dcdcdc;
  --ring: #80bfff;

  --radius: 10px;
  --gap: 15px;
  --shadow: 0 4px 15px rgba(0, 0, 0, 0.08);

  --control-h: 42px;
  --font: system-ui, -apple-system, "Segoe UI", Roboto,
          "Hiragino Kaku Gothic ProN", "Noto Sans JP", "Helvetica Neue",
          Arial, "Noto Color Emoji", sans-serif;
}

/* ダークモード（自動） */
@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0f1115;
    --panel: #171a21;
    --text: #e8eaf0;
    --muted: #aab1c6;
    --border: #2a2f3a;
    --shadow: 0 6px 20px rgba(0,0,0,.35);
    --ring: #5ab0ff;
  }
}

/* =========================
   全体レイアウト
========================= */
* { box-sizing: border-box; }
html, body { height: 100%; }

body {
  font-family: var(--font);
  margin: 0;
  color: var(--text);
  background: var(--bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-tap-highlight-color: transparent;
}

.quiz-container {
  max-width: 680px;              /* 少し広げて選択UIの窮屈さを解消 */
  margin: 60px auto;
  padding: 40px 28px;
  background: var(--panel);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  text-align: center;
  border: 1px solid var(--border);
}

/* タイトル */
.quiz-container h1 {
  font-size: 28px;
  margin: 0 0 24px;
  letter-spacing: .02em;
}

/* =========================
   コントロール群
========================= */
.button-group {
  display: flex;
  flex-wrap: wrap;
  gap: var(--gap);
  justify-content: center;
  margin-bottom: 30px;
}

/* ラベルとセットで使う時の見た目（任意） */
.control { display: flex; flex-direction: column; gap: 6px; min-width: 160px; }
.control label { font-size: 13px; color: var(--muted); text-align: left; }
.control.buttons { flex-direction: row; align-items: end; }

/* 共通の入力/ボタン外観 */
.button-group select,
.button-group button {
  min-height: var(--control-h);
  padding: 10px 16px;
  font-size: 16px;
  border-radius: 8px;             /* 6px → 8pxで少しだけ“触りやすい”見た目に */
  border: 1px solid var(--border);
  background: #fff;
  color: var(--text);
}

/* ダーク時のセレクト背景 */
@media (prefers-color-scheme: dark) {
  .button-group select { background: #151a24; }
}

/* フォーカス（キーボード操作で見やすい輪郭） */
.button-group select:focus-visible,
.button-group button:focus-visible {
  outline: 3px solid var(--ring);
  outline-offset: 2px;
}

/* セレクト幅の揃え（必要に応じて） */
.button-group select { min-width: 180px; }

/* ボタン */
.button-group button {
  border: none;
  cursor: pointer;
  color: #fff;
  background-color: var(--primary);
  transition: transform .06s ease, background-color .2s ease, box-shadow .2s ease;
  box-shadow: 0 1px 0 rgba(0,0,0,.03);
}

.button-group button:hover { background-color: var(--primary-600); }
.button-group button:active { transform: translateY(1px); background-color: var(--primary-700); }
.button-group button[disabled] { opacity: .6; cursor: not-allowed; }

/* 危険な操作（進捗リセット）ボタン */
.button-group .danger { background-color: var(--danger); }
.button-group .danger:hover { background-color: var(--danger-600); }
.button-group .danger:active { background-color: var(--danger-700); }

/* =========================
   アクセシビリティ補助
========================= */
.sr-only {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0, 0, 0, 0);
  white-space: nowrap; border: 0;
}

/* =========================
   レスポンシブ（モバイル最適化）
========================= */
@media (max-width: 640px) {
  .quiz-container {
    margin: 24px 12px;
    padding: 24px 16px;
  }
  .control { min-width: 100%; }
  .button-group { gap: 10px; }
  .button-group select,
  .button-group button { width: 100%; } /* スマホで押しやすい全幅 */
}

/* 低モーション環境向け（酔いやすい人への配慮） */
@media (prefers-reduced-motion: reduce) {
  .button-group button { transition: none; }
}
